import{u as j,r as s,o as P,a as U,b as u,c as d,d as e,e as b,f as x,t as p,w as y,g,v as h,h as k,i as z,j as R,k as T}from"./index-gQaYO5ct.js";import{s as $,a as B,_}from"./safeStoreRefs-BFQqCsTa.js";const M={class:"min-h-screen bg-slate-950 text-slate-50 flex flex-col"},A={class:"bg-slate-900/80 backdrop-blur border-b border-white/10 px-6 py-4"},D={class:"max-w-4xl mx-auto flex items-center justify-between"},E={class:"text-sm"},I={class:"flex-1 flex items-center justify-center p-6"},J={class:"w-full max-w-md"},L={class:"bg-slate-900/50 backdrop-blur border border-white/10 rounded-2xl p-8"},q=["disabled"],F={key:0,class:"text-rose-400 text-sm text-center"},G=["disabled"],H={key:0},K={key:1},O={class:"mt-6 text-center"},Q={class:"bg-slate-800 border border-white/10 rounded-2xl p-6 w-full max-w-sm shadow-2xl"},W={class:"flex flex-col items-center gap-4 mb-6"},X={class:"flex gap-2"},te={__name:"PlayerLobby",setup(Y){const w=j(),c=$(R,"user"),{nickname:v=s(""),avatar:f=s(null)}=B(c,"user"),r=s(""),n=s(!1),o=s(""),l=s(!1),i=s("");P(()=>{c.initializeProfile(),i.value=v.value});const C=async()=>{if(!r.value.trim()){o.value="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∫–æ–º–Ω–∞—Ç—ã";return}if(!v.value.trim()){o.value="–£–∫–∞–∂–∏—Ç–µ –∏–º—è",l.value=!0;return}n.value=!0,o.value="";try{w.push({name:"player-room",params:{roomId:r.value.trim().toUpperCase()}})}catch{o.value="–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è",n.value=!1}},N=()=>{i.value.trim()&&c.setNickname(i.value.trim()),l.value=!1},S=m=>{c.setAvatar(m)};return(m,t)=>{const V=U("router-link");return u(),d("div",M,[e("header",A,[e("div",D,[t[5]||(t[5]=e("h1",{class:"text-2xl font-bold bg-gradient-to-r from-sky-400 to-violet-400 bg-clip-text text-transparent"}," TriP Rooms ",-1)),e("button",{type:"button",class:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/5 transition",onClick:t[0]||(t[0]=a=>l.value=!0)},[b(_,{avatar:x(f),size:32},null,8,["avatar"]),e("span",E,p(x(v)||"–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å"),1)])])]),e("main",I,[e("div",J,[e("div",L,[t[6]||(t[6]=e("div",{class:"text-center mb-8"},[e("div",{class:"text-6xl mb-4"},"üé≤"),e("h2",{class:"text-2xl font-semibold mb-2"},"–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∏–≥—Ä–µ"),e("p",{class:"text-slate-400"},"–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∫–æ–º–Ω–∞—Ç—ã –æ—Ç –º–∞—Å—Ç–µ—Ä–∞")],-1)),e("form",{onSubmit:y(C,["prevent"]),class:"space-y-4"},[e("div",null,[g(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>r.value=a),type:"text",placeholder:"–ö–æ–¥ –∫–æ–º–Ω–∞—Ç—ã",class:"w-full px-4 py-3 text-lg text-center font-mono tracking-widest uppercase bg-slate-800 border border-white/10 rounded-xl focus:outline-none focus:border-sky-400/50 focus:ring-2 focus:ring-sky-400/20",disabled:n.value},null,8,q),[[h,r.value]])]),o.value?(u(),d("div",F,p(o.value),1)):k("",!0),e("button",{type:"submit",class:"w-full py-3 bg-sky-500 hover:bg-sky-600 text-white font-medium rounded-xl transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:n.value||!r.value.trim()},[n.value?(u(),d("span",H,"–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...")):(u(),d("span",K,"–í–æ–π—Ç–∏ –≤ –∫–æ–º–Ω–∞—Ç—É"))],8,G)],32)]),e("div",O,[b(V,{to:"/master",class:"text-sm text-slate-500 hover:text-sky-400 transition"},{default:z(()=>[...t[7]||(t[7]=[T(" –í–æ–π—Ç–∏ –∫–∞–∫ –º–∞—Å—Ç–µ—Ä ‚Üí ",-1)])]),_:1})])])]),l.value?(u(),d("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:t[4]||(t[4]=y(a=>l.value=!1,["self"]))},[e("div",Q,[t[8]||(t[8]=e("h3",{class:"text-lg font-semibold mb-4"},"–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å",-1)),e("div",W,[b(_,{avatar:x(f),size:80,editable:!0,onChange:S},null,8,["avatar"]),g(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>i.value=a),type:"text",placeholder:"–í–∞—à–µ –∏–º—è",class:"w-full px-4 py-2 bg-slate-900 border border-white/10 rounded-lg text-center focus:outline-none focus:border-sky-400/50"},null,512),[[h,i.value]])]),e("div",X,[e("button",{type:"button",class:"flex-1 py-2 text-slate-400 hover:text-white transition",onClick:t[3]||(t[3]=a=>l.value=!1)}," –û—Ç–º–µ–Ω–∞ "),e("button",{type:"button",class:"flex-1 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition",onClick:N}," –°–æ—Ö—Ä–∞–Ω–∏—Ç—å ")])])])):k("",!0)])}}};export{te as default};

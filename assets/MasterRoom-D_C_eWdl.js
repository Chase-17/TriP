import{s as U,n as p,c as r,d as i,e,t as l,g as b,i as _,F as H,p as j,r as W,x as B,f as M,D as q,u as J,a as K,o as Q,E as X,h as E,G as I}from"./index-CHgWo146.js";import{a as O,u as Y,b as Z}from"./fillProfile-CMHyLxPJ.js";import{b as L,C as ee,H as te,f as se,e as oe}from"./BattleMap-yN0AMFSl.js";import{_ as G}from"./UserAvatar-alpiM39O.js";const ae={class:"bg-slate-900/60 border border-white/10 rounded-2xl p-6 space-y-4"},ne={class:"flex items-center justify-between gap-3"},le={class:"text-xs px-3 py-1 rounded-full border border-white/10 uppercase tracking-wide text-slate-400"},re=["disabled"],ie={key:0,class:"flex flex-col gap-3"},de={class:"flex items-center gap-2"},ce={class:"flex-1 rounded-xl border border-white/10 px-4 py-3 font-mono text-xl tracking-[0.3em] text-center"},ue=["disabled"],me={key:1,class:"space-y-2"},pe={class:"space-y-2"},xe={class:"font-medium"},ve={class:"text-xs text-slate-400"},be={key:2,class:"text-sm text-rose-300"},he={__name:"MasterTools",setup(F){const c=O(),{roomId:m,status:h,error:C,connections:x}=U(c),u=p(()=>h.value==="connecting"),y=p(()=>!!m.value),P=p(()=>y.value&&!u.value),N=()=>{u.value||(y.value?c.createNewRoom():c.createRoom())},w=async()=>{if(P.value)try{await navigator.clipboard.writeText(m.value)}catch($){console.error("Clipboard copy failed",$)}};return($,f)=>(r(),i("div",ae,[e("div",ne,[f[0]||(f[0]=e("div",null,[e("p",{class:"text-sm uppercase tracking-[0.2em] text-slate-500"},"Ð¨Ð°Ð³ 2"),e("h2",{class:"text-xl font-semibold"},"Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñƒ")],-1)),e("span",le,l(b(h)),1)]),e("button",{type:"button",class:"w-full rounded-xl bg-sky-500/20 border border-sky-400/60 py-3 text-lg font-semibold text-sky-100 hover:bg-sky-500/30 transition",disabled:u.value,onClick:N},l(y.value?"Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð½Ð¾Ð²ÑƒÑŽ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñƒ":"Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñƒ"),9,re),y.value?(r(),i("div",ie,[f[1]||(f[1]=e("p",{class:"text-sm text-slate-400"},"Ð­Ñ‚Ð¸Ð¼ ÐºÐ¾Ð´Ð¾Ð¼ Ð´ÐµÐ»Ð¸Ñ‚ÐµÑÑŒ Ñ Ð¸Ð³Ñ€Ð¾ÐºÐ°Ð¼Ð¸:",-1)),e("div",de,[e("div",ce,l(b(m)),1),e("button",{type:"button",class:"px-4 py-3 rounded-xl border border-white/20 hover:border-sky-400/70 text-sm",disabled:!P.value,onClick:w}," ÐšÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ",8,ue)])])):_("",!0),b(x).length?(r(),i("div",me,[f[2]||(f[2]=e("p",{class:"text-sm uppercase tracking-[0.2em] text-slate-500"},"Ð˜Ð³Ñ€Ð¾ÐºÐ¸",-1)),e("ul",pe,[(r(!0),i(H,null,j(b(x),g=>(r(),i("li",{key:g.peerId,class:"flex items-center justify-between rounded-xl border border-white/5 px-4 py-2 bg-slate-950/60"},[e("span",xe,l(g.alias),1),e("span",ve,l(g.ready?"Ð¾Ð½Ð»Ð°Ð¹Ð½":"Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ÑÑ"),1)]))),128))])])):_("",!0),b(C)?(r(),i("p",be,l(b(C)),1)):_("",!0)]))}},fe={class:"h-full flex flex-col bg-slate-950 text-slate-50"},ge={class:"px-6 py-4 border-b border-slate-800 bg-slate-900/50 flex-shrink-0"},_e={class:"flex items-center justify-between"},ye={class:"text-sm text-slate-400 mt-1"},we={class:"flex-1 overflow-y-auto p-6"},ke={key:0,class:"flex flex-col items-center justify-center h-full text-center"},Ce={key:1,class:"space-y-6"},$e={class:"px-4 py-3 bg-slate-800/50 border-b border-slate-700 flex items-center justify-between"},De={class:"flex items-center gap-3"},Re=["title"],Me={class:"font-medium"},Pe={class:"text-sm text-slate-500"},Se={class:"divide-y divide-slate-800/50"},Te={class:"flex items-start gap-4"},He={class:"flex-1 min-w-0"},je={class:"flex items-center gap-2 mb-1"},Ne={class:"font-bold text-lg truncate"},We={class:"text-xs px-2 py-0.5 rounded bg-slate-700 text-slate-300"},Be={class:"flex flex-wrap gap-3 text-sm"},Ee={key:0,class:"text-slate-400"},Ie={key:1,class:"text-slate-400"},Ue={class:"mt-3"},Ve={class:"flex gap-2 mt-2"},ze=["onClick"],Ae=["onClick"],Oe={key:0,class:"flex flex-wrap gap-2 mt-2"},Fe={class:"flex flex-col gap-1"},Le=["title","onClick"],Ge={__name:"MasterCharactersPanel",setup(F){const c=Y(),m=O(),{connections:h}=U(m),C=W(new Set),x=W(new Map),u=p(()=>c.allPlayerCharacters),y=p(()=>{const o={};return u.value.forEach(s=>{const n=s.ownerId||"unknown";o[n]||(o[n]={ownerId:n,ownerNickname:s.ownerNickname||"ÐÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ñ‹Ð¹ Ð¸Ð³Ñ€Ð¾Ðº",characters:[]}),o[n].characters.push(s)}),Object.values(o)}),P=p(()=>u.value.length),N=o=>({commander:"âš”ï¸",warrior:"ðŸ—¡ï¸",ranger:"ðŸ¹",mage:"ðŸ”®",healer:"ðŸ’š",rogue:"ðŸ—ï¸",bard:"ðŸŽ­",paladin:"ðŸ›¡ï¸"})[o]||"ðŸ‘¤",w=o=>({commander:"ÐšÐ¾Ð¼Ð°Ð½Ð´Ð¸Ñ€",warrior:"Ð’Ð¾Ð¸Ð½",ranger:"Ð¡Ð»ÐµÐ´Ð¾Ð¿Ñ‹Ñ‚",mage:"ÐœÐ°Ð³",healer:"Ð¦ÐµÐ»Ð¸Ñ‚ÐµÐ»ÑŒ",rogue:"ÐŸÐ»ÑƒÑ‚",bard:"Ð‘Ð°Ñ€Ð´",paladin:"ÐŸÐ°Ð»Ð°Ð´Ð¸Ð½"})[o]||o||"Ð‘ÐµÐ· ÐºÐ»Ð°ÑÑÐ°",$=o=>h.value.some(s=>s.userId===o||s.peerId===o),f=o=>{var n;const s=c.characters.find(t=>t.id===o);if(s!=null&&s.ownerId){const t=x.value.get(o);if(t){if(((n=s.combat)==null?void 0:n.healthType)==="simple")t.hpDelta<0?m.sendDamageEffect(s.ownerId,Math.abs(t.hpDelta)):t.hpDelta>0&&m.sendHealEffect(s.ownerId,t.hpDelta);else{const a=t.woundChanges||{},d=(a.scratch||0)+(a.light||0)*2+(a.heavy||0)*3+(a.deadly||0)*4,k=Math.abs(Math.min(0,a.scratch||0))+Math.abs(Math.min(0,a.light||0))*2+Math.abs(Math.min(0,a.heavy||0))*3+Math.abs(Math.min(0,a.deadly||0))*4;d>0&&m.sendDamageEffect(s.ownerId,d,"Ñ€Ð°Ð½"),k>0&&m.sendHealEffect(s.ownerId,k)}x.value.delete(o)}m.sendCharacterToPlayer(o,s.ownerId),C.value.delete(o)}},g=o=>{C.value.add(o)},V=o=>C.value.has(o),D=(o,s)=>{var k;const n=c.characters.find(v=>v.id===o);if(!n)return;const t=((k=n.combat)==null?void 0:k.hp)||0,a=s-t;c.updateCharacter(o,{combat:{...n.combat,hp:s}});const d=x.value.get(o)||{hpDelta:0,woundChanges:{}};d.hpDelta+=a,x.value.set(o,d),g(o)},S=(o,s)=>{c.addWound(o,s);const n=x.value.get(o)||{hpDelta:0,woundChanges:{}};n.woundChanges[s]=(n.woundChanges[s]||0)+1,x.value.set(o,n),g(o)},T=(o,s)=>{c.removeWound(o,s);const n=x.value.get(o)||{hpDelta:0,woundChanges:{}};n.woundChanges[s]=(n.woundChanges[s]||0)-1,x.value.set(o,n),g(o)},z=o=>{c.postCombatRecovery(o),g(o)},A=o=>{var t;const s=c.characters.find(a=>a.id===o);if(!s)return;const n=((t=s.combat)==null?void 0:t.healthType)==="simple"?"wounds":"simple";c.setHealthType(o,n),f(o)};return(o,s)=>(r(),i("div",fe,[e("header",ge,[e("div",_e,[e("div",null,[s[0]||(s[0]=e("h1",{class:"text-xl font-bold flex items-center gap-2"},[e("span",null,"ðŸ‘¥"),e("span",null,"ÐŸÐµÑ€ÑÐ¾Ð½Ð°Ð¶Ð¸ Ð¸Ð³Ñ€Ð¾ÐºÐ¾Ð²")],-1)),e("p",ye," Ð’ÑÐµÐ³Ð¾: "+l(P.value)+" Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶(ÐµÐ¹) Ð¾Ñ‚ "+l(y.value.length)+" Ð¸Ð³Ñ€Ð¾Ðº(Ð¾Ð²) ",1)]),s[1]||(s[1]=e("div",{class:"flex gap-2"},[e("button",{class:"px-3 py-1.5 rounded-lg text-sm bg-slate-800 hover:bg-slate-700 text-slate-300 transition",title:"ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ ÑÐ¿Ð¸ÑÐ¾Ðº"}," ðŸ”„ ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ ")],-1))])]),e("div",we,[P.value===0?(r(),i("div",ke,[...s[2]||(s[2]=[e("div",{class:"text-6xl mb-4"},"ðŸŽ­",-1),e("h2",{class:"text-xl font-medium text-slate-300 mb-2"},"ÐÐµÑ‚ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶ÐµÐ¹",-1),e("p",{class:"text-slate-500 max-w-md"}," ÐŸÐµÑ€ÑÐ¾Ð½Ð°Ð¶Ð¸ Ð¸Ð³Ñ€Ð¾ÐºÐ¾Ð² Ð¿Ð¾ÑÐ²ÑÑ‚ÑÑ Ð·Ð´ÐµÑÑŒ, ÐºÐ¾Ð³Ð´Ð° Ð¾Ð½Ð¸ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑÑ Ðº ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ðµ. Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ, Ñ‡Ñ‚Ð¾ Ð¸Ð³Ñ€Ð¾ÐºÐ¸ ÑÐ¾Ð·Ð´Ð°Ð»Ð¸ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶ÐµÐ¹ Ð¿ÐµÑ€ÐµÐ´ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸ÐµÐ¼. ",-1)])])):(r(),i("div",Ce,[(r(!0),i(H,null,j(y.value,n=>(r(),i("div",{key:n.ownerId,class:"bg-slate-900/50 rounded-xl border border-slate-800 overflow-hidden"},[e("div",$e,[e("div",De,[e("div",{class:B(["w-3 h-3 rounded-full",$(n.ownerId)?"bg-emerald-500":"bg-slate-500"]),title:$(n.ownerId)?"ÐžÐ½Ð»Ð°Ð¹Ð½":"ÐžÑ„Ð»Ð°Ð¹Ð½"},null,10,Re),e("span",Me,l(n.ownerNickname),1),e("span",Pe,"("+l(n.characters.length)+" Ð¿ÐµÑ€Ñ.)",1)])]),e("div",Se,[(r(!0),i(H,null,j(n.characters,t=>{var a,d,k;return r(),i("div",{key:t.id,class:"p-4 hover:bg-slate-800/30 transition cursor-pointer"},[e("div",Te,[M(ee,{portrait:t.portrait,name:t.name,combat:t.combat,stats:t.stats,meleeDefence:b(L)(t,"melee"),rangedDefence:b(L)(t,"ranged"),showDefence:!0,defenceLayout:"left",size:"lg"},null,8,["portrait","name","combat","stats","meleeDefence","rangedDefence"]),e("div",He,[e("div",je,[e("h3",Ne,l(t.name),1),e("span",We,l(N(t.class))+" "+l(w(t.class)),1)]),e("div",Be,[t.race?(r(),i("div",Ee," ðŸ§¬ "+l(t.race)+l(t.subrace?` (${t.subrace})`:""),1)):_("",!0),t.gender?(r(),i("div",Ie,l(t.gender==="m"?"â™‚ï¸":"â™€ï¸"),1)):_("",!0)]),e("div",Ue,[M(te,{combat:t.combat,stats:t.stats,"onUpdate:hp":v=>D(t.id,v),onAddWound:v=>S(t.id,v),onRemoveWound:v=>T(t.id,v)},null,8,["combat","stats","onUpdate:hp","onAddWound","onRemoveWound"]),e("div",Ve,[V(t.id)?(r(),i("button",{key:0,onClick:v=>f(t.id),class:"flex-1 px-3 py-1.5 rounded-lg text-sm font-medium bg-emerald-600 hover:bg-emerald-500 text-white transition flex items-center justify-center gap-1"},[...s[3]||(s[3]=[e("span",null,"ðŸ“¤",-1),e("span",null,"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ",-1)])],8,ze)):_("",!0),((a=t.combat)==null?void 0:a.healthType)==="wounds"?(r(),i("button",{key:1,onClick:v=>z(t.id),class:"px-3 py-1.5 rounded-lg text-sm bg-slate-700 hover:bg-slate-600 text-slate-300 transition",title:"ÐŸÐ¾ÑÐ»ÐµÐ±Ð¾ÐµÐ²Ð¾Ðµ Ð²Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ: Ñ€Ð°Ð½Ñ‹ ÑÐ¼ÐµÑ‰Ð°ÑŽÑ‚ÑÑ Ð½Ð° ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸ÑŽ Ð½Ð¸Ð¶Ðµ"}," ðŸ©¹ ÐžÑ‚Ð´Ñ‹Ñ… ",8,Ae)):_("",!0)])]),t.stats?(r(),i("div",Oe,[(r(!0),i(H,null,j(t.stats,(v,R)=>(r(),i("span",{key:R,class:B(["text-xs px-1.5 py-0.5 rounded bg-slate-800",{"text-rose-400":R==="war","text-blue-400":R==="knowledge","text-amber-400":R==="community","text-slate-400":R==="shadow","text-purple-400":R==="mysticism","text-emerald-400":R==="nature"}])},l(R.slice(0,3).toUpperCase())+": "+l(v),3))),128))])):_("",!0)]),e("div",Fe,[e("button",{class:"p-2 rounded-lg hover:bg-slate-700 text-slate-400 hover:text-white transition",title:((d=t.combat)==null?void 0:d.healthType)==="simple"?"ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð½Ð° Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ":"ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð½Ð° HP",onClick:v=>A(t.id)},l(((k=t.combat)==null?void 0:k.healthType)==="simple"?"ðŸ“Š":"â¤ï¸"),9,Le),s[4]||(s[4]=e("button",{class:"p-2 rounded-lg hover:bg-slate-700 text-slate-400 hover:text-white transition",title:"ÐÐ°Ð½ÐµÑÑ‚Ð¸ ÑƒÑ€Ð¾Ð½"}," ðŸ’¥ ",-1)),s[5]||(s[5]=e("button",{class:"p-2 rounded-lg hover:bg-slate-700 text-slate-400 hover:text-white transition",title:"Ð˜ÑÑ†ÐµÐ»Ð¸Ñ‚ÑŒ"}," ðŸ’š ",-1)),s[6]||(s[6]=e("button",{class:"p-2 rounded-lg hover:bg-slate-700 text-slate-400 hover:text-white transition",title:"Ð Ð°Ð·Ð¼ÐµÑÑ‚Ð¸Ñ‚ÑŒ Ð½Ð° ÐºÐ°Ñ€Ñ‚Ðµ"}," ðŸ“ ",-1))])])])}),128))])]))),128))]))])]))}},qe={class:"h-screen bg-slate-950 text-slate-50 flex flex-col overflow-hidden"},Je={class:"bg-slate-900/90 backdrop-blur border-b border-white/10 px-4 py-2 flex items-center justify-between flex-shrink-0"},Ke={class:"flex items-center gap-3"},Qe=["title"],Xe={class:"font-mono font-medium tracking-widest text-amber-400"},Ye={class:"text-xs"},Ze={class:"flex gap-1"},et=["onClick"],tt={class:"hidden md:inline"},st={class:"flex items-center gap-3"},ot={class:"text-sm"},at={class:"flex items-center gap-2"},nt={class:"text-sm hidden sm:inline"},lt={class:"flex-1 flex overflow-hidden"},rt={class:"flex-1 overflow-hidden"},it={key:0,class:"w-64 bg-slate-900/50 border-l border-white/10 flex flex-col flex-shrink-0"},dt={class:"flex-1 overflow-y-auto p-2"},ct={key:0,class:"text-center py-8 text-slate-500 text-sm"},ut={class:"mt-2 px-3 py-2 bg-slate-800 rounded font-mono text-amber-400"},mt={class:"flex-1 min-w-0"},pt={class:"text-sm truncate"},xt={class:"text-xs text-slate-500"},gt={__name:"MasterRoom",setup(F){const c=q(),m=J(),h=O(),C=K();Z();const{roomId:x,status:u,connections:y}=U(h),{nickname:P,avatar:N}=U(C);p(()=>u.value==="ready"||u.value==="in-room");const w=p(()=>y.value||[]),$=p(()=>w.value.length>0&&w.value.some(t=>t.ready)),f=p(()=>w.value.filter(t=>t.ready).length),g=p(()=>u.value==="connecting"?"ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ...":u.value==="error"?"ÐžÑˆÐ¸Ð±ÐºÐ°":u.value==="in-room"||$.value?`â— ${f.value} Ð¸Ð³Ñ€Ð¾Ðº(Ð¾Ð²)`:u.value==="ready"?"â—‹ ÐžÐ¶Ð¸Ð´Ð°Ð½Ð¸Ðµ Ð¸Ð³Ñ€Ð¾ÐºÐ¾Ð²":"â—‹ Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾"),V=p(()=>u.value==="error"?"bg-rose-500/20 text-rose-400":$.value?"bg-emerald-500/20 text-emerald-400":u.value==="ready"?"bg-amber-500/20 text-amber-400":"bg-slate-500/20 text-slate-400"),D=W("battle-map"),S=W(!1),T=W(!1),z=[{id:"battle-map",label:"ÐšÐ°Ñ€Ñ‚Ð°",icon:"ðŸ—ºï¸"},{id:"master-tools",label:"Ð˜Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹",icon:"âš™ï¸"},{id:"chat",label:"Ð§Ð°Ñ‚",icon:"ðŸ’¬"},{id:"characters",label:"ÐŸÐµÑ€ÑÐ¾Ð½Ð°Ð¶Ð¸",icon:"ðŸ‘¥"}];Q(async()=>{const t=c.params.roomId;if(!t){m.push("/master");return}h.setRole("master"),h.roomId=t;try{await h.createRoom()}catch(a){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹:",a)}}),X(()=>{h.leaveRoom()});const A=t=>{D.value=t},o=async()=>{try{await navigator.clipboard.writeText(c.params.roomId),T.value=!0,setTimeout(()=>{T.value=!1},2e3)}catch(t){console.error("ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ:",t)}},s=()=>{h.leaveRoom(),m.push("/master")},n=p(()=>w.value.length);return(t,a)=>(r(),i("div",qe,[e("header",Je,[e("div",Ke,[e("button",{type:"button",class:"text-slate-400 hover:text-white transition text-sm",onClick:s}," â† ÐÐ°Ð·Ð°Ð´ "),a[1]||(a[1]=e("div",{class:"h-5 w-px bg-white/10"},null,-1)),e("button",{type:"button",class:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-amber-500/20 border border-amber-400/40 hover:bg-amber-500/30 transition",onClick:o,title:T.value?"Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾!":"ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ¾Ð´"},[e("span",Xe,l(b(c).params.roomId),1),e("span",Ye,l(T.value?"âœ“":"ðŸ“‹"),1)],8,Qe),e("span",{class:B(["px-2 py-0.5 rounded text-xs",V.value])},l(g.value),3),a[2]||(a[2]=e("span",{class:"px-2 py-0.5 rounded text-xs bg-purple-500/20 text-purple-400 border border-purple-400/30"}," âš”ï¸ ÐœÐ°ÑÑ‚ÐµÑ€ ",-1))]),e("nav",Ze,[(r(),i(H,null,j(z,d=>e("button",{key:d.id,type:"button",class:B(["px-3 py-1.5 rounded-lg text-sm transition flex items-center gap-1.5",D.value===d.id?"bg-amber-500/20 text-amber-400 border border-amber-400/40":"text-slate-400 hover:text-white hover:bg-white/5"]),onClick:k=>A(d.id)},[e("span",null,l(d.icon),1),e("span",tt,l(d.label),1)],10,et)),64))]),e("div",st,[e("button",{type:"button",class:B(["flex items-center gap-2 px-3 py-1.5 rounded-lg border transition",S.value?"bg-sky-500/20 border-sky-400/40 text-sky-400":"border-white/10 text-slate-400 hover:text-white hover:bg-white/5"]),onClick:a[0]||(a[0]=d=>S.value=!S.value)},[a[3]||(a[3]=e("span",null,"ðŸ‘¥",-1)),e("span",ot,l(n.value),1)],2),a[4]||(a[4]=e("div",{class:"h-5 w-px bg-white/10"},null,-1)),e("div",at,[M(G,{avatar:b(N),size:28},null,8,["avatar"]),e("span",nt,l(b(P)||"ÐœÐ°ÑÑ‚ÐµÑ€"),1)])])]),e("div",lt,[e("main",rt,[E(M(se,null,null,512),[[I,D.value==="battle-map"]]),E(M(he,null,null,512),[[I,D.value==="master-tools"]]),E(M(oe,null,null,512),[[I,D.value==="chat"]]),E(M(Ge,null,null,512),[[I,D.value==="characters"]])]),S.value?(r(),i("aside",it,[a[7]||(a[7]=e("div",{class:"p-4 border-b border-white/10"},[e("h3",{class:"font-medium"},"Ð˜Ð³Ñ€Ð¾ÐºÐ¸ Ð² ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ðµ")],-1)),e("div",dt,[n.value===0?(r(),i("div",ct,[a[5]||(a[5]=e("p",null,"ÐŸÐ¾ÐºÐ° Ð½Ð¸ÐºÐ¾Ð³Ð¾ Ð½ÐµÑ‚",-1)),a[6]||(a[6]=e("p",{class:"mt-2"},"ÐžÑ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ ÐºÐ¾Ð´ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹ Ð¸Ð³Ñ€Ð¾ÐºÐ°Ð¼:",-1)),e("div",ut,l(b(c).params.roomId),1)])):_("",!0),(r(!0),i(H,null,j(w.value,d=>(r(),i("div",{key:d.id,class:"flex items-center gap-3 p-2 rounded-lg hover:bg-white/5"},[M(G,{avatar:d.avatar,size:32},null,8,["avatar"]),e("div",mt,[e("div",pt,l(d.nickname),1),e("div",xt,l(d.role),1)])]))),128))])])):_("",!0)])]))}};export{gt as default};

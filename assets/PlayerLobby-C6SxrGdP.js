import{u as P,a as z,s as R,r as i,o as S,b as T,c as d,d as u,e,f as b,g as x,t as p,w as y,h as g,v as h,i as k,j as U,k as $}from"./index-COA-MOPX.js";import{_}from"./UserAvatar-BUMe_K1c.js";const B={class:"min-h-screen bg-slate-950 text-slate-50 flex flex-col"},M={class:"bg-slate-900/80 backdrop-blur border-b border-white/10 px-6 py-4"},A={class:"max-w-4xl mx-auto flex items-center justify-between"},D={class:"text-sm"},E={class:"flex-1 flex items-center justify-center p-6"},I={class:"w-full max-w-md"},J={class:"bg-slate-900/50 backdrop-blur border border-white/10 rounded-2xl p-8"},L=["disabled"],q={key:0,class:"text-rose-400 text-sm text-center"},F=["disabled"],G={key:0},H={key:1},K={class:"mt-6 text-center"},O={class:"bg-slate-800 border border-white/10 rounded-2xl p-6 w-full max-w-sm shadow-2xl"},Q={class:"flex flex-col items-center gap-4 mb-6"},W={class:"flex gap-2"},ee={__name:"PlayerLobby",setup(X){const w=P(),c=z(),{nickname:v,avatar:f}=R(c),a=i(""),r=i(!1),s=i(""),o=i(!1),n=i("");S(()=>{c.initializeProfile(),n.value=v.value});const C=async()=>{if(!a.value.trim()){s.value="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∫–æ–º–Ω–∞—Ç—ã";return}if(!v.value.trim()){s.value="–£–∫–∞–∂–∏—Ç–µ –∏–º—è",o.value=!0;return}r.value=!0,s.value="";try{w.push({name:"player-room",params:{roomId:a.value.trim().toUpperCase()}})}catch{s.value="–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è",r.value=!1}},N=()=>{n.value.trim()&&c.setNickname(n.value.trim()),o.value=!1},V=m=>{c.setAvatar(m)};return(m,t)=>{const j=T("router-link");return d(),u("div",B,[e("header",M,[e("div",A,[t[5]||(t[5]=e("h1",{class:"text-2xl font-bold bg-gradient-to-r from-sky-400 to-violet-400 bg-clip-text text-transparent"}," TriP Rooms ",-1)),e("button",{type:"button",class:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/5 transition",onClick:t[0]||(t[0]=l=>o.value=!0)},[b(_,{avatar:x(f),size:32},null,8,["avatar"]),e("span",D,p(x(v)||"–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å"),1)])])]),e("main",E,[e("div",I,[e("div",J,[t[6]||(t[6]=e("div",{class:"text-center mb-8"},[e("div",{class:"text-6xl mb-4"},"üé≤"),e("h2",{class:"text-2xl font-semibold mb-2"},"–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∏–≥—Ä–µ"),e("p",{class:"text-slate-400"},"–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∫–æ–º–Ω–∞—Ç—ã –æ—Ç –º–∞—Å—Ç–µ—Ä–∞")],-1)),e("form",{onSubmit:y(C,["prevent"]),class:"space-y-4"},[e("div",null,[g(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>a.value=l),type:"text",placeholder:"–ö–æ–¥ –∫–æ–º–Ω–∞—Ç—ã",class:"w-full px-4 py-3 text-lg text-center font-mono tracking-widest uppercase bg-slate-800 border border-white/10 rounded-xl focus:outline-none focus:border-sky-400/50 focus:ring-2 focus:ring-sky-400/20",disabled:r.value},null,8,L),[[h,a.value]])]),s.value?(d(),u("div",q,p(s.value),1)):k("",!0),e("button",{type:"submit",class:"w-full py-3 bg-sky-500 hover:bg-sky-600 text-white font-medium rounded-xl transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:r.value||!a.value.trim()},[r.value?(d(),u("span",G,"–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...")):(d(),u("span",H,"–í–æ–π—Ç–∏ –≤ –∫–æ–º–Ω–∞—Ç—É"))],8,F)],32)]),e("div",K,[b(j,{to:"/master",class:"text-sm text-slate-500 hover:text-sky-400 transition"},{default:U(()=>[...t[7]||(t[7]=[$(" –í–æ–π—Ç–∏ –∫–∞–∫ –º–∞—Å—Ç–µ—Ä ‚Üí ",-1)])]),_:1})])])]),o.value?(d(),u("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:t[4]||(t[4]=y(l=>o.value=!1,["self"]))},[e("div",O,[t[8]||(t[8]=e("h3",{class:"text-lg font-semibold mb-4"},"–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å",-1)),e("div",Q,[b(_,{avatar:x(f),size:80,editable:!0,onChange:V},null,8,["avatar"]),g(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>n.value=l),type:"text",placeholder:"–í–∞—à–µ –∏–º—è",class:"w-full px-4 py-2 bg-slate-900 border border-white/10 rounded-lg text-center focus:outline-none focus:border-sky-400/50"},null,512),[[h,n.value]])]),e("div",W,[e("button",{type:"button",class:"flex-1 py-2 text-slate-400 hover:text-white transition",onClick:t[3]||(t[3]=l=>o.value=!1)}," –û—Ç–º–µ–Ω–∞ "),e("button",{type:"button",class:"flex-1 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition",onClick:N}," –°–æ—Ö—Ä–∞–Ω–∏—Ç—å ")])])])):k("",!0)])}}};export{ee as default};
